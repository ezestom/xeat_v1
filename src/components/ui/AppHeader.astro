---
import instagram from "../../icons/instagram.svg";
import whatsapp from "../../icons/whatsapp.svg";

const response = await fetch(
	"https://us-east4.gcp.data.mongodb-api.com/app/home-ybjtf/endpoint/210"
);
const data = await response.json();
---

<header>
	<section>
		<h1 class="flex items-center">
			<a href="/">
				<img
					src={data.logo_url}
					alt="logo"
					class="max-w-[225px] hover:scale-105 transition"
				/>
			</a>
			<p class="text-3xl font-black uppercase -translate-x-10">
				{data.nombre}
			</p>
		</h1>
		<nav>
			<li>
				<a class="a" href="/burgers">
					<span class="hover-animation">burgers</span></a
				>
			</li>

			<li>
				<a class="a pointer-events-none opacity-50" href="/fries">
					<span class="hover-animation">fries</span></a
				>
			</li>
			<li>
				<a class="a pointer-events-none opacity-50" href="/cakes">
					<span class="hover-animation">cakes</span></a
				>
			</li>
			<li>
				<a class="a pointer-events-none opacity-50" href="/the-meat">
					<span class="hover-animation">the meat</span>
				</a>
			</li>
			<li>
				<a class="a" href="/know-us">
					<span class="hover-animation">con√≥cenos</span>
				</a>
			</li>
			<li>
				<a
					target="_blank"
					href={data.tienda_url}
					class="uppercase text-nowrap bg-[red] rounded-full text-[--white3] hover:bg-red-600 transition py-2 px-4 inline-block">
					hacer pedido
				</a>
			</li>
			<li>
				<a class="a" href="/faqs">
					<span class="hover-animation">faqs</span>
				</a>
			</li>
		</nav>
		<span class="my-auto flex gap-2">
			<a
				href={`https://www.instagram.com/${data.redes_sociales[0].instagram.slice(1)}`}
				target="_blank">
				<img
					src={instagram.src}
					alt="instagram logo"
					class="hover:scale-105 transition my-auto"
				/>
			</a>
			<a target="_blank" href={`https://wa.me/${data.whatsapp.numero}`}>
				<img
					src={whatsapp.src}
					alt="instagram logo"
					class="hover:scale-105 transition my-auto"
				/></a
			>
		</span>
	</section>
</header>

<style>
	header {
		width: 100%;
		background-color: var(--white3);
		border-bottom: var(--black) 1px solid;
		position: fixed;
		z-index: 20;
	}
	section {
		display: flex;
		margin-inline: auto;
		max-width: 95%;
	}

	section h1 {
		margin-right: 1rem;
	}

	nav {
		display: flex;
		align-items: center;
		justify-content: space-around;
		width: 50%;
		margin-inline: auto;
		padding-block: 2rem;
	}

	nav li {
		list-style: none;
		font-size: 1rem;
	}
	li .a {
		color: black;
		text-decoration: none;
		margin-inline: 1rem;
		text-transform: uppercase;
		text-wrap: nowrap;
		font-weight: 500;
	}
	h1 {
		margin: auto 0;
		transition: all 0.3s ease-in-out;
	}

	/* hover animaation */
	.a {
		border: none;
		background: none;
		cursor: pointer;
	}

	.hover-animation {
		position: relative;
		color: black;
		padding-bottom: 0px;
	}

	.hover-animation:after {
		content: "";
		position: absolute;
		width: 100%;
		transform: scaleX(0);
		height: 0.1rem;
		bottom: 0;
		left: 0;
		background-color: #000000;
		transform-origin: bottom right;
		transition: transform 0.25s ease-out;
	}

	.a:hover .hover-animation:after {
		transform: scaleX(1);
		transform-origin: bottom left;
	}

	/* hover animaation */
	@media (max-width: 1150px) {
		header section {
			display: none;
		}
	}
</style>
